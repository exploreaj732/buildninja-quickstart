name: VSTest_Runner_Build
description: .NET build demonstrating VSTest runner
version: 1.0

settings:
  vcs-steps:
    - key: vcs_git
      name: Checkout Repository
      disabled: false
      args:
        authType: anonymous
        branch: master
        url: https://github.com/abheekm/VSTest_Runner_App.git
      argsProtected: {}

  build-steps:
    - key: runner_cmd
      name: Build Solution
      disabled: false
      workDir: ""
      args:
        commands: dotnet build VSTest_Runner_App.sln
      argsProtected: {}

    - key: runner_vstest
      name: Run VSTest
      disabled: false
      workDir: ""
      args:
        testAssembly: bin\Debug\net8.0\VSTest_Runner_App.dll
      argsProtected: {}

  artifacts:
    - name: Build Output
      condition: buildSucceeds
      paths:
        - bin
        - TestResults
